<!-- component template -->
<template>
  <div class="page" style="background: #e0e0e0">
    <div class="navbar no-shadow">
    <div class="navbar-inner sliding">
      <div class="left">
        <a class="link back" data-force="true" data-ignore-cache="true">
          <i class="icon icon-back"></i>
          <span class="ios-only">Back</span>
        </a>
      </div>
      <div class="title" style="font-size: 15px;">
        Pengecekan Berita
      </div>
    </div>
  </div>
    <div class="page-content">
      <div id="load"></div>
      <div class='card card-outline'>
        <div class='card-header' style='font-weight: bold'>Persentase</div>
        <div class='card-content card-content-padding'>
          <div class="block block-strong text-align-center">
            <div class='gauge demo-gauge'></div>
          </div>  
      </div>
    </div>
    </div>
      
  </div>
</template>
<!-- component styles -->
<style>
  .red-link {
    color: red;
  }
</style>
<!-- rest of component data and methods -->

<script>

  // script must return component object 
  
  return {

    on: {
      pageInit: function () {
      var demoGauge = app.gauge.create({
      el: '.demo-gauge',
      type: 'circle',
      value: 0 / 100,
      size: 250,
      borderColor: '#2196f3',
      borderWidth: 10,
      valueText: '0%',
      valueFontSize: 41,
      valueTextColor: '#2196f3',
      labelText: 'Loading...',
      }); 
         var url= document.getElementById("url").value;
         $(document).ready(function(){
         $("#load").load("http://localhost/andar/home/proses?url="+url+"");
         setTimeout(function(){
         var persen= document.getElementById("persen").value; 
         demoGauge.update({
         value: persen / 100,
         valueText: persen + '%',
         labelText: 'Persentase Hoax'
        }) 
         }, 5000);
        });

      },

      pageAfterOut: function () {
        // page has left the vie
        }
        
  }}

</script>
