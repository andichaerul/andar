<!-- component template -->
<template>
  <div class="page">
    <div class="navbar no-shadow">
    <div class="navbar-inner sliding">
      <div class="left">
        <a class="link back" data-force="true" data-ignore-cache="true">
          <i class="icon icon-back"></i>
          <span class="ios-only">Back</span>
        </a>
      </div>
      <div class="title" style="font-size: 15px;">
        Pengecekan Berita
      </div>
    </div>
  </div>
    <div class="page-content">
      <div id="div2"></div>
    </div>
  </div>
</template>
<!-- component styles -->
<style>
  .red-link {
    color: red;
  }
</style>
<!-- rest of component data and methods -->

<script>

  // script must return component object 
  
  return {

    on: {
      pageInit: function () {
        var url= document.getElementById("url").value;
        $.getJSON("http://localhost/andar/home/proses",{url:url} ,function(result)
        {
          // alert("Notification received:\n" + JSON.stringify(result));
          var json = JSON.stringify(result)
          var obj = JSON.parse(json);
          if (obj.nama_media.length < 1) {
          document.getElementById("div2").innerHTML = "Sumber tidak terdaftar di dewan pers";
          }
          else{
          document.getElementById("div2").innerHTML = "Sumber :" + obj.nama_media;
          }
        });
          
      },

      pageAfterOut: function () {
        // page has left the vie
        }
        
  }}

</script>
