<!-- component template -->
<template>
  <div class="page">
    <div class="navbar no-shadow">
    <div class="navbar-inner sliding">
      <div class="left">
        <a class="link back" data-force="true" data-ignore-cache="true">
          <i class="icon icon-back"></i>
          <span class="ios-only">Back</span>
        </a>
      </div>
      <div class="title" style="font-size: 15px;">
        Lokasi Kejadian
      </div>
    </div>
  </div>
    <div class="page-content">
      <div id="loading">Sedang Loading...</div>
      <div id="div1"></div>
      <button class="col button button-fill button-round" id="carirute">Cari Rute Terbaik</button>
    </div>
  </div>
</template>
<!-- component styles -->
<style>
  .red-link {
    color: red;
  }
</style>
<!-- rest of component data and methods -->

<script>
  // script must return component object 
 
  return {

    on: {
      pageInit: function () {
      if (navigator.geolocation) {
          navigator.geolocation.getCurrentPosition(showPosition);
      } else { 
      }
      function showPosition(position) {
      document.getElementById("mylocation").value = position.coords.longitude +","+ position.coords.latitude;
      }
      $(document).ready(function(){
      var delay = 1000;
      setTimeout(function() {
          var mylocation = $("#mylocation").val();
          var reportlocation = $("#reportlocation").val();
          console.log(mylocation);
          $("#div1").load("https://birautama.com/genetika/wira/AndiWira/?dari="+mylocation+"&tujuan="+reportlocation+"");
          }, 2000);

        });
      $('#carirute').on('click', function(){
      mainView.router.navigate('/result/');
      });
          
      },

      pageAfterOut: function () {
        // page has left the vie
        
  }}



}
</script>
